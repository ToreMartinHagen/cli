<!doctype html><html lang=en dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Get familiar with Kosli # The following guide is the easiest and quickest way to try Kosli out and understand it's features. But is not a real life use case for Kosli - usually you'd run Kosli in your CI and remote environments.
So you can try it out using just your local machine and docker. In our Guides and Kosli integrations sections you'll find all the information needed to run it in actual projects."><meta name=theme-color content="#FFFFFF"><meta name=color-scheme content="light dark"><meta property="og:image" content="https://docs.kosli.com/kosli-docs-logo-white.svg"><meta name=twitter:image content="https://docs.kosli.com/kosli-docs-logo-white.svg"><meta property="og:title" content><meta property="og:description" content><meta property="og:type" content="website"><meta property="og:url" content="https://docs.kosli.com/tutorials/get_familiar_with_kosli/"><title>Get familiar with Kosli</title><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><link rel=stylesheet href=/book.min.b4d24ef9736e1baf7f2e1bba4953ce061e200210d7d6fee268b1aef9e52ff228.css integrity="sha256-tNJO+XNuG69/Lhu6SVPOBh4gAhDX1v7iaLGu+eUv8ig=" crossorigin=anonymous><script defer src=/flexsearch.min.js></script>
<script defer src=/en.search.min.cdac39717647cc32c80ceb585ba0693021b1b4cad3f9fa9f27f5188e3093a01f.js integrity="sha256-zaw5cXZHzDLIDOtYW6BpMCGxtMrT+fqfJ/UYjjCToB8=" crossorigin=anonymous></script>
<script src=https://cdn.usefathom.com/script.js data-site=AUFUAQWT data-excluded-domains=localhost defer></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/><span>Kosli developer documentation</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div></div><ul><li><input type=checkbox id=section-6725160d2344d44f6214ab4d7c34286a class=toggle>
<label for=section-6725160d2344d44f6214ab4d7c34286a class="flex justify-between"><a role=button>Kosli Overview</a></label><ul><li><a href=https://docs.kosli.com/kosli_overview/what_is_kosli/>What is Kosli?</a></li><li><a href=https://docs.kosli.com/kosli_overview/kosli_tools/>How to use Kosli?</a></li><li><a href=https://docs.kosli.com/kosli_overview/kosli_integrations/>Kosli integrations</a></li></ul></li><li><input type=checkbox id=section-acdc30ff5cf57e4ff3a5b04fe43650db class=toggle>
<label for=section-acdc30ff5cf57e4ff3a5b04fe43650db class="flex justify-between"><a role=button>Getting started</a></label><ul><li><a href=https://docs.kosli.com/getting_started/part_1_overview/>Part 1: Overview</a></li><li><a href=https://docs.kosli.com/getting_started/part_2_environments/>Part 2: Environments</a></li><li><a href=https://docs.kosli.com/getting_started/part_3_pipelines/>Part 3: Pipelines</a></li><li><a href=https://docs.kosli.com/getting_started/part_4_artifacts/>Part 4: Artifacts</a></li><li><a href=https://docs.kosli.com/getting_started/part_5_evidence/>Part 5: Evidence</a></li><li><a href=https://docs.kosli.com/getting_started/part_6_approvals/>Part 6: Approvals</a></li><li><a href=https://docs.kosli.com/getting_started/part_7_deployments/>Part 7: Deployments</a></li><li><a href=https://docs.kosli.com/getting_started/part_8_querying/>Part 8: Querying</a></li></ul></li><li><input type=checkbox id=section-07a282edef5130f1b67f1822bafb90e0 class=toggle>
<label for=section-07a282edef5130f1b67f1822bafb90e0 class="flex justify-between"><a role=button>Kosli integrations</a></label><ul><li><a href=https://docs.kosli.com/integrations/ci_cd/>CI/CD</a></li><li><a href=https://docs.kosli.com/integrations/slack/>Slack integration</a></li></ul></li><li><input type=checkbox id=section-90d1aeee0e96e115d1edea3b994d19fb class=toggle checked>
<label for=section-90d1aeee0e96e115d1edea3b994d19fb class="flex justify-between"><a role=button>Tutorials</a></label><ul><li><a href=https://docs.kosli.com/tutorials/get_familiar_with_kosli/ class=active>Get familiar with Kosli</a></li><li><a href=https://docs.kosli.com/tutorials/following_a_git_commit_to_runtime_environments/>Following a git commit to runtime environments</a></li><li><a href=https://docs.kosli.com/tutorials/tracing_a_production_incident_back_to_git_commits/>Tracing a production incident back to git commits</a></li><li><a href=https://docs.kosli.com/tutorials/simulating_a_devops_system/>Simulating a DevOps system</a></li></ul></li><li><input type=checkbox id=section-3993beb65ef7e76a7dbe6e66c07255ac class=toggle>
<label for=section-3993beb65ef7e76a7dbe6e66c07255ac class="flex justify-between"><a href=https://docs.kosli.com/client_reference/>Reference</a></label><ul><li><a href=https://docs.kosli.com/client_reference/kosli/>kosli</a></li><li><a href=https://docs.kosli.com/client_reference/kosli_approval_get/>kosli approval get</a></li><li><a href=https://docs.kosli.com/client_reference/kosli_approval_ls/>kosli approval ls</a></li><li><a href=https://docs.kosli.com/client_reference/kosli_artifact_get/>kosli artifact get</a></li><li><a href=https://docs.kosli.com/client_reference/kosli_artifact_ls/>kosli artifact ls</a></li><li><a href=https://docs.kosli.com/client_reference/kosli_assert_artifact/>kosli assert artifact</a></li><li><a href=https://docs.kosli.com/client_reference/kosli_assert_bitbucket-pullrequest/>kosli assert bitbucket-pullrequest</a></li><li><a href=https://docs.kosli.com/client_reference/kosli_assert_environment/>kosli assert environment</a></li><li><a href=https://docs.kosli.com/client_reference/kosli_assert_github-pullrequest/>kosli assert github-pullrequest</a></li><li><a href=https://docs.kosli.com/client_reference/kosli_assert_status/>kosli assert status</a></li><li><a href=https://docs.kosli.com/client_reference/kosli_completion/>kosli completion</a></li><li><a href=https://docs.kosli.com/client_reference/kosli_deployment_get/>kosli deployment get</a></li><li><a href=https://docs.kosli.com/client_reference/kosli_deployment_ls/>kosli deployment ls</a></li><li><a href=https://docs.kosli.com/client_reference/kosli_environment_allowedartifacts_add/>kosli environment allowedartifacts add</a></li><li><a href=https://docs.kosli.com/client_reference/kosli_environment_declare/>kosli environment declare</a></li><li><a href=https://docs.kosli.com/client_reference/kosli_environment_diff/>kosli environment diff</a></li><li><a href=https://docs.kosli.com/client_reference/kosli_environment_get/>kosli environment get</a></li><li><a href=https://docs.kosli.com/client_reference/kosli_environment_inspect/>kosli environment inspect</a></li><li><a href=https://docs.kosli.com/client_reference/kosli_environment_log/>kosli environment log</a></li><li><a href=https://docs.kosli.com/client_reference/kosli_environment_ls/>kosli environment ls</a></li><li><a href=https://docs.kosli.com/client_reference/kosli_environment_rename/>kosli environment rename</a></li><li><a href=https://docs.kosli.com/client_reference/kosli_environment_report_docker/>kosli environment report docker</a></li><li><a href=https://docs.kosli.com/client_reference/kosli_environment_report_ecs/>kosli environment report ecs</a></li><li><a href=https://docs.kosli.com/client_reference/kosli_environment_report_k8s/>kosli environment report k8s</a></li><li><a href=https://docs.kosli.com/client_reference/kosli_environment_report_lambda/>kosli environment report lambda</a></li><li><a href=https://docs.kosli.com/client_reference/kosli_environment_report_s3/>kosli environment report s3</a></li><li><a href=https://docs.kosli.com/client_reference/kosli_environment_report_server/>kosli environment report server</a></li><li><a href=https://docs.kosli.com/client_reference/kosli_expect_deployment/>kosli expect deployment</a></li><li><a href=https://docs.kosli.com/client_reference/kosli_fingerprint/>kosli fingerprint</a></li><li><a href=https://docs.kosli.com/client_reference/kosli_pipeline_approval_assert/>kosli pipeline approval assert</a></li><li><a href=https://docs.kosli.com/client_reference/kosli_pipeline_approval_report/>kosli pipeline approval report</a></li><li><a href=https://docs.kosli.com/client_reference/kosli_pipeline_approval_request/>kosli pipeline approval request</a></li><li><a href=https://docs.kosli.com/client_reference/kosli_pipeline_artifact_report_creation/>kosli pipeline artifact report creation</a></li><li><a href=https://docs.kosli.com/client_reference/kosli_pipeline_artifact_report_evidence_bitbucket-pullrequest/>kosli pipeline artifact report evidence bitbucket-pullrequest</a></li><li><a href=https://docs.kosli.com/client_reference/kosli_pipeline_artifact_report_evidence_generic/>kosli pipeline artifact report evidence generic</a></li><li><a href=https://docs.kosli.com/client_reference/kosli_pipeline_artifact_report_evidence_github-pullrequest/>kosli pipeline artifact report evidence github-pullrequest</a></li><li><a href=https://docs.kosli.com/client_reference/kosli_pipeline_artifact_report_evidence_junit/>kosli pipeline artifact report evidence junit</a></li><li><a href=https://docs.kosli.com/client_reference/kosli_pipeline_artifact_report_evidence_snyk/>kosli pipeline artifact report evidence snyk</a></li><li><a href=https://docs.kosli.com/client_reference/kosli_pipeline_artifact_report_evidence_test/>kosli pipeline artifact report evidence test</a></li><li><a href=https://docs.kosli.com/client_reference/kosli_pipeline_declare/>kosli pipeline declare</a></li><li><a href=https://docs.kosli.com/client_reference/kosli_pipeline_inspect/>kosli pipeline inspect</a></li><li><a href=https://docs.kosli.com/client_reference/kosli_pipeline_ls/>kosli pipeline ls</a></li><li><a href=https://docs.kosli.com/client_reference/kosli_search/>kosli search</a></li><li><a href=https://docs.kosli.com/client_reference/kosli_status/>kosli status</a></li><li><a href=https://docs.kosli.com/client_reference/kosli_version/>kosli version</a></li></ul></li><li><a href=https://docs.kosli.com/faq/>FAQ</a><ul></ul></li><li><a href=https://docs.kosli.com/helm/>Kubernetes Reporter Helm Chart</a><ul></ul></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><ul id=book-search-results class=search-results></ul><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Get familiar with Kosli</strong>
<label for=toc-control><img src=/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><h4 class=toc-title>On this page:</h4><nav id=TableOfContents><ul><li><a href=#get-familiar-with-kosli>Get familiar with Kosli</a><ul><li><a href=#step-1-prerequisites-and-kosli-account>Step 1: Prerequisites and Kosli account</a></li><li><a href=#step-2-install-the-kosli-cli>Step 2: Install the Kosli CLI</a></li><li><a href=#step-3-configure-your-working-environment>Step 3: Configure your working environment</a></li><li><a href=#step-4-create-a-kosli-pipeline>Step 4: Create a Kosli pipeline</a></li><li><a href=#step-5-create-a-kosli-environment>Step 5: Create a Kosli environment</a></li><li><a href=#step-6-report-artifacts-to-kosli>Step 6: Report artifacts to Kosli</a></li><li><a href=#step-7-report-expected-deployment-of-the-artifact>Step 7: Report expected deployment of the artifact</a></li><li><a href=#step-8-report-what-is-running-in-your-environment>Step 8: Report what is running in your environment</a></li><li><a href=#searching-kosli>Searching Kosli</a></li></ul></li></ul></nav></aside></header><div class=content-container><article class=markdown><div><ul class=breadcrumbs><li><a href=https://docs.kosli.com/>Home</a></li><li><a href=https://docs.kosli.com/tutorials/>Tutorials</a></li><li class=active aria-current=page>Get familiar with Kosli</li></ul><h1 id=get-familiar-with-kosli>Get familiar with Kosli
<a class=anchor href=#get-familiar-with-kosli>#</a></h1><p>The following guide is the easiest and quickest way to try Kosli out and understand it's features. But is not a real life use case for Kosli - usually you'd run Kosli in your CI and remote environments.</p><p>So you can try it out using just your local machine and <code>docker</code>. In our <em><strong>Guides</strong></em> and <em><strong>Kosli integrations</strong></em> sections you'll find all the information needed to run it in actual projects.</p><p>In this tutorial, you'll learn how Kosli allows you to follow a source code change to runtime environments.
You'll set up a <code>docker</code> environment, use Kosli to record build and deployment events, and track what artifacts are running in your runtime environments.</p><p>This tutorial uses the <code>docker</code> Kosli environment type, but the same steps can be applied to other supported environment types.</p><blockquote class="book-hint info"><p>As you go through the guide you can also check your progress from
<a href=https://app.kosli.com target=_blank>your browser</a>.</p><p>In the upper left corner there is a house icon. Next to it you can select
which organization you want to view. Your personal organization
has the same name as your github login name, and is the organization (in the context of Kosli CLI called "owner") you will
be using in this guide.</p></blockquote><h2 id=step-1-prerequisites-and-kosli-account>Step 1: Prerequisites and Kosli account
<a class=anchor href=#step-1-prerequisites-and-kosli-account>#</a></h2><p>To follow the tutorial, you will need to:</p><ul><li><p>Install both <code>Docker</code> and <code>docker-compose</code>.</p></li><li><p><a href=/kosli_overview/kosli_tools/#installing-the-kosli-cli>Install the Kosli CLI</a> and <a href=/kosli_overview/kosli_tools/#getting-your-kosli-api-token>set the <code>KOSLI_API_TOKEN</code> and <code>KOSLI_OWNER</code> environment variables</a>.</p></li><li><p>You can check your Kosli set up by running:</p><div class="highlight command"><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>kosli pipeline ls
</span></span></code></pre></div><p>which should return a list of pipelines or the message "No pipelines were found".</p></li><li><p>Clone our quickstart-docker repository:</p><div class="highlight command"><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>git clone https://github.com/kosli-dev/quickstart-docker-example.git
</span></span><span style=display:flex><span>cd quickstart-docker-example
</span></span></code></pre></div></li></ul><h3 id=create-kosli-account>Create Kosli account
<a class=anchor href=#create-kosli-account>#</a></h3><p>You need a GitHub account to be able to use Kosli.<br>Go to <a href=https://app.kosli.com target=_blank>app.kosli.com</a> and use "Sign up with GitHub" button to create a Kosli account.</p><h2 id=step-2-install-the-kosli-cli>Step 2: Install the Kosli CLI
<a class=anchor href=#step-2-install-the-kosli-cli>#</a></h2><p>Kosli CLI can be installed from package managers,
by Curling pre-built binaries, or by running inside a Docker container.<br>We recommend using a Docker container for the tutorials.<div class=book-tabs><input type=radio class=toggle name=tabs-installKosli id=tabs-installKosli-0 checked>
<label for=tabs-installKosli-0>Homebrew</label><div class="book-tabs-content markdown-inner"><p>If you have <a href=https://brew.sh/ target=_blank>Homebrew</a> (available on MacOS, Linux or Windows Subsystem for Linux),
you can install the Kosli CLI by running:</p><div class="highlight command"><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>brew install kosli-dev/tap/kosli
</span></span></code></pre></div></div><input type=radio class=toggle name=tabs-installKosli id=tabs-installKosli-1>
<label for=tabs-installKosli-1>APT</label><div class="book-tabs-content markdown-inner"><p>On Ubuntu or Debian Linux, you can use APT to install the Kosli CLI by running:</p><div class="highlight command"><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>sudo sh -c <span style=color:#e6db74>&#39;echo &#34;deb [trusted=yes] https://apt.fury.io/kosli/ /&#34;  &gt; /etc/apt/sources.list.d/fury.list&#39;</span>
</span></span><span style=display:flex><span><span style=color:#75715e># On a clean debian container/machine, you need ca-certificates</span>
</span></span><span style=display:flex><span>sudo apt install ca-certificates
</span></span><span style=display:flex><span>sudo apt update
</span></span><span style=display:flex><span>sudo apt install kosli
</span></span></code></pre></div></div><input type=radio class=toggle name=tabs-installKosli id=tabs-installKosli-2>
<label for=tabs-installKosli-2>YUM</label><div class="book-tabs-content markdown-inner"><p>On RedHat Linux, you can use YUM to install the Kosli CLI by running:</p><div class="highlight command"><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>cat <span style=color:#e6db74>&lt;&lt;EOT &gt;&gt; /etc/yum.repos.d/kosli.repo
</span></span></span><span style=display:flex><span><span style=color:#e6db74>[kosli]
</span></span></span><span style=display:flex><span><span style=color:#e6db74>name=Kosli public Repo
</span></span></span><span style=display:flex><span><span style=color:#e6db74>baseurl=https://yum.fury.io/kosli/
</span></span></span><span style=display:flex><span><span style=color:#e6db74>enabled=1
</span></span></span><span style=display:flex><span><span style=color:#e6db74>gpgcheck=0
</span></span></span><span style=display:flex><span><span style=color:#e6db74>EOT</span>
</span></span></code></pre></div><p>If you get mirrorlist errors (likely if you are on a clean centos container):</p><div class="highlight command"><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>cd /etc/yum.repos.d/
</span></span><span style=display:flex><span>sed -i <span style=color:#e6db74>&#39;s/mirrorlist/#mirrorlist/g&#39;</span> /etc/yum.repos.d/CentOS-*
</span></span><span style=display:flex><span>sed -i <span style=color:#e6db74>&#39;s|#baseurl=http://mirror.centos.org|baseurl=http://vault.centos.org|g&#39;</span> /etc/yum.repos.d/CentOS-*
</span></span></code></pre></div><div class="highlight command"><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>yum update -y
</span></span><span style=display:flex><span>yum install kosli
</span></span></code></pre></div></div><input type=radio class=toggle name=tabs-installKosli id=tabs-installKosli-3>
<label for=tabs-installKosli-3>Curl</label><div class="book-tabs-content markdown-inner"><p>You can download the Kosli CLI from <a href=https://github.com/kosli-dev/cli/releases target=_blank>GitHub</a>.<br>Make sure to choose the correct tar file for your system.<br>For example, on Mac with AMD:</p><div class="highlight command"><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>curl -L https://github.com/kosli-dev/cli/releases/download/v0.1.35/kosli_0.1.35_darwin_amd64.tar.gz | tar zx
</span></span><span style=display:flex><span>sudo mv kosli /usr/local/bin/kosli
</span></span></code></pre></div></div><input type=radio class=toggle name=tabs-installKosli id=tabs-installKosli-4>
<label for=tabs-installKosli-4>Docker</label><div class="book-tabs-content markdown-inner"><p>You can run the Kosli CLI in this docker container:</p><div class="highlight command"><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>docker run -it --rm ghcr.io/kosli-dev/cli:v0.1.35 bash
</span></span></code></pre></div></div></div></p><h3 id=verifying-the-installation-worked>Verifying the installation worked
<a class=anchor href=#verifying-the-installation-worked>#</a></h3><p>Run this command:</p><div class="highlight command"><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>kosli version
</span></span></code></pre></div><p>The expected output should be similar to this:</p><div class="highlight light-console"><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-plaintext data-lang=plaintext><span style=display:flex><span>version.BuildInfo{Version:&#34;v0.1.35&#34;, GitCommit:&#34;4058e8932ec093c28f553177e41c906940114866&#34;, GitTreeState:&#34;clean&#34;, GoVersion:&#34;go1.19.5&#34;}
</span></span></code></pre></div><h2 id=step-3-configure-your-working-environment>Step 3: Configure your working environment
<a class=anchor href=#step-3-configure-your-working-environment>#</a></h2><h3 id=getting-your-kosli-api-token>Getting your Kosli API token
<a class=anchor href=#getting-your-kosli-api-token>#</a></h3><p>To be able to run Kosli commands (from your local machine, but the same goes for any CI/CD system you use) you need a Kosli API Token to be able to authenticate. It's a common practice to configure the token as an environment variable (or e.g. a secret in GitHub Actions or Bitbucket, etc)</p><p>To retrieve your API Token:</p><ul><li>Go to <a href=https://app.kosli.com target=_blank>https://app.kosli.com</a></li><li>Log in or sign up using your github account</li><li>Open your Profile page (click on your avatar in the top right corner of the page) and copy the API Key</li></ul><h3 id=using-environment-variables>Using environment variables
<a class=anchor href=#using-environment-variables>#</a></h3><p>The <code>--api-token</code> and <code>--owner</code> flags are used in every <code>kosli</code> CLI command.<br>Rather than retyping these every time you run <code>kosli</code>, you can set them as environment variables.</p><p>The owner is the name of the organization you intend to use - it is either your private organization, which has exactly the same name as your GitHub username, or a shared organization (if you created or have been invited to one).</p><p>By setting the environment variables:</p><div class="highlight command"><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>export KOSLI_API_TOKEN<span style=color:#f92672>=</span>abcdefg
</span></span><span style=display:flex><span>export KOSLI_OWNER<span style=color:#f92672>=</span>cyber-dojo
</span></span></code></pre></div><p>you can use</p><div class="highlight command"><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>kosli pipeline ls 
</span></span></code></pre></div><p>instead of</p><div class="highlight command"><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>kosli pipeline ls --api-token abcdefg --owner cyber-dojo 
</span></span></code></pre></div><p>You can represent <strong>ANY</strong> flag as an environment variable. To do that you need to capitalize the words in the flag, replacing dashes with underscores, and add the <code>KOSLI_</code> prefix. For example, <code>--api-token</code> becomes <code>KOSLI_API_TOKEN</code>.</p><h2 id=step-4-create-a-kosli-pipeline>Step 4: Create a Kosli pipeline
<a class=anchor href=#step-4-create-a-kosli-pipeline>#</a></h2><p>A Kosli <em>pipeline</em> stores information about what happens in your build system.
The output of the build system is called an <em>artifact</em> in Kosli. An artifact could be, for example,
an application binary, a docker image, a directory, or a file.</p><p>Start by creating a new Kosli pipeline:</p><div class="highlight command"><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>kosli pipeline declare <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --pipeline quickstart-nginx <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --description <span style=color:#e6db74>&#34;Pipeline for quickstart nginx image&#34;</span>
</span></span></code></pre></div><p>You can confirm that the Kosli pipeline was created by running:</p><div class="highlight command"><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>kosli pipeline ls
</span></span></code></pre></div><p>which should produce the following output:</p><div class="highlight light-console"><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-plaintext data-lang=plaintext><span style=display:flex><span>NAME              DESCRIPTION                          VISIBILITY
</span></span><span style=display:flex><span>quickstart-nginx  Pipeline for quickstart nginx image  private
</span></span></code></pre></div><blockquote class="book-hint info">In the web interface you can select the <em>Pipelines</em> option on the left.
It will show you that you have a <em>quickstart-nginx</em> pipeline.
If you select the pipeline it will show that no artifacts have
been reported yet.</blockquote><h2 id=step-5-create-a-kosli-environment>Step 5: Create a Kosli environment
<a class=anchor href=#step-5-create-a-kosli-environment>#</a></h2><p>A Kosli <em>environment</em> stores snapshots containing information about
the software artifacts you are running in your runtime environments.</p><p>Create a Kosli environment:</p><div class="highlight command"><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>kosli environment declare <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --name quickstart <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --environment-type docker <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --description <span style=color:#e6db74>&#34;quickstart environment for tutorial&#34;</span>
</span></span></code></pre></div><p>You can verify that the Kosli environment was created:</p><div class="highlight command"><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>kosli environment ls
</span></span></code></pre></div><div class="highlight light-console"><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-plaintext data-lang=plaintext><span style=display:flex><span>NAME        TYPE    LAST REPORT  LAST MODIFIED
</span></span><span style=display:flex><span>quickstart  docker               2022-11-01T15:30:56+01:00
</span></span></code></pre></div><blockquote class="book-hint info">If you refresh the <em>Environments</em> web page in your Kosli account,
it will show you that you have a <em>quickstart</em> environment and that
no reports have been received.</blockquote><h2 id=step-6-report-artifacts-to-kosli>Step 6: Report artifacts to Kosli
<a class=anchor href=#step-6-report-artifacts-to-kosli>#</a></h2><p>Typically, you would build an artifact in your CI system.
The quickstart-docker repository contains a <code>docker-compose.yml</code> file which uses an <a href=https://nginx.org/ target=_blank>nginx</a> docker image
which you will be using as your artifact in this tutorial instead.</p><p>Pull the docker image - the Kosli CLI needs the artifact to be locally present to
generate a "fingerprint" to identify it:</p><div class="highlight command"><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>docker-compose pull
</span></span></code></pre></div><p>You can check that this has worked by typing:</p><div class="highlight command"><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>docker images nginx
</span></span></code></pre></div><p>The output should look like this:</p><div class="highlight light-console"><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-plaintext data-lang=plaintext><span style=display:flex><span>REPOSITORY   TAG       IMAGE ID       CREATED        SIZE
</span></span><span style=display:flex><span>nginx        1.21      8f05d7383593   5 months ago   134MB
</span></span></code></pre></div><p>Now you can report the artifact to Kosli.
This tutorial uses a dummy value for the <code>--build-url</code> flag, in a real installation
this would be a defaulted link to a build service (e.g. Github Actions).</p><div class="highlight command"><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>kosli pipeline artifact report creation nginx:1.21 <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --pipeline quickstart-nginx <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --artifact-type docker <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --build-url https://example.com <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --commit-url https://github.com/kosli-dev/quickstart-docker-example/commit/9f14efa0c91807da9a8b1d1d6332c5b3aa24a310 <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --git-commit 9f14efa0c91807da9a8b1d1d6332c5b3aa24a310
</span></span></code></pre></div><p>You can verify that you have reported the artifact in your <em>quickstart-nginx</em> pipeline:</p><div class="highlight command"><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>kosli artifact ls quickstart-nginx
</span></span></code></pre></div><div class="highlight light-console"><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-plaintext data-lang=plaintext><span style=display:flex><span>COMMIT   ARTIFACT                                                                       STATE      CREATED_AT
</span></span><span style=display:flex><span>9f14efa  Name: nginx:1.21                                                               COMPLIANT  Tue, 01 Nov 2022 15:46:59 CET
</span></span><span style=display:flex><span>         Fingerprint: 2bcabc23b45489fb0885d69a06ba1d648aeda973fae7bb981bafbb884165e514                 
</span></span></code></pre></div><h2 id=step-7-report-expected-deployment-of-the-artifact>Step 7: Report expected deployment of the artifact
<a class=anchor href=#step-7-report-expected-deployment-of-the-artifact>#</a></h2><p>Before you run the nginx docker image (the artifact) on your docker host, you need to report
to Kosli your intention of deploying that image. This allows Kosli to match what you
expect to run in your environment with what is actually running, and flag any mismatches.</p><div class="highlight command"><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>kosli expect deployment nginx:1.21 <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --pipeline quickstart-nginx <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --artifact-type docker <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --build-url https://example.com <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --environment quickstart <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --description <span style=color:#e6db74>&#34;quickstart-nginx artifact deployed to quickstart env&#34;</span>
</span></span></code></pre></div><p>You can verify the deployment with:</p><div class="highlight command"><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>kosli deployment ls quickstart-nginx
</span></span></code></pre></div><div class="highlight light-console"><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-plaintext data-lang=plaintext><span style=display:flex><span>ID   ARTIFACT                                                                       ENVIRONMENT  REPORTED_AT
</span></span><span style=display:flex><span>1    Name: nginx:1.21                                                               quickstart   Tue, 01 Nov 2022 15:48:47 CET
</span></span><span style=display:flex><span>     Fingerprint: 2bcabc23b45489fb0885d69a06ba1d648aeda973fae7bb981bafbb884165e514  
</span></span></code></pre></div><p>Now run the artifact:</p><div class="highlight command"><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>docker-compose up -d
</span></span></code></pre></div><p>You can confirm the container is running:</p><div class="highlight command"><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>docker ps
</span></span></code></pre></div><p>The output should include an entry similar to this:</p><div class="highlight light-console"><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-plaintext data-lang=plaintext><span style=display:flex><span>CONTAINER ID  IMAGE      COMMAND                 CREATED         STATUS         PORTS                  NAMES
</span></span><span style=display:flex><span>6330e545b532  nginx:1.21 &#34;/docker-entrypoint.…&#34;  35 seconds ago  Up 34 seconds  0.0.0.0:8080-&gt;80/tcp   quickstart-nginx
</span></span></code></pre></div><h2 id=step-8-report-what-is-running-in-your-environment>Step 8: Report what is running in your environment
<a class=anchor href=#step-8-report-what-is-running-in-your-environment>#</a></h2><p>Report all the docker containers running on your machine to Kosli:</p><div class="highlight command"><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>kosli environment report docker quickstart
</span></span></code></pre></div><p>You can confirm this has created an environment snapshot:</p><div class="highlight command"><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>kosli environment log quickstart
</span></span></code></pre></div><div class="highlight light-console"><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-plaintext data-lang=plaintext><span style=display:flex><span>SNAPSHOT  FROM                           TO   DURATION
</span></span><span style=display:flex><span>1         Tue, 01 Nov 2022 15:55:49 CET  now  11 seconds
</span></span></code></pre></div><p>You can get a detailed view of all the docker containers included in the snapshot report:</p><div class="highlight command"><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>kosli environment get quickstart
</span></span></code></pre></div><div class="highlight light-console"><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-plaintext data-lang=plaintext><span style=display:flex><span>COMMIT  ARTIFACT                                                                       PIPELINE  RUNNING_SINCE  REPLICAS
</span></span><span style=display:flex><span>N/A     Name: nginx:1.21                                                               N/A       3 minutes ago  1
</span></span><span style=display:flex><span>        Fingerprint: 8f05d73835934b8220e1abd2f157ea4e2260b9c26f6f63a8e3975e7affa46724
</span></span></code></pre></div><p>The <code>kosli environment report docker</code> command reports <em>all</em> the
docker containers running in your environment, equivalent to the output from
<code>docker ps</code>. This tutorial only shows the <code>nginx</code> container
in the examples.</p><blockquote class="book-hint info">If you refresh the <em>Environments</em> web page in your Kosli account, you will see
that there is now a timestamp for <em>Last Change At</em> column.
Select the <em>quickstart</em> link on left for a detailed view of what is currently running.</blockquote><h2 id=searching-kosli>Searching Kosli
<a class=anchor href=#searching-kosli>#</a></h2><p>Now that you have reported your artifact and what's running in our runtime environment,
you can use the <code>kosli search</code> command to find everything Kosli knows about an artifact or a git commit.</p><p>For example, you can give Kosli search the git commit SHA which you used when you reported the artifact:</p><div class="highlight command"><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>kosli search 9f14efa0c91807da9a8b1d1d6332c5b3aa24a310
</span></span></code></pre></div><div class="highlight light-console"><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-plaintext data-lang=plaintext><span style=display:flex><span>Search result resolved to commit 9f14efa0c91807da9a8b1d1d6332c5b3aa24a310
</span></span><span style=display:flex><span>Name:              nginx:1.21
</span></span><span style=display:flex><span>Fingerprint:       2bcabc23b45489fb0885d69a06ba1d648aeda973fae7bb981bafbb884165e514
</span></span><span style=display:flex><span>Has provenance:    true
</span></span><span style=display:flex><span>Pipeline:          quickstart-nginx
</span></span><span style=display:flex><span>Git commit:        9f14efa0c91807da9a8b1d1d6332c5b3aa24a310
</span></span><span style=display:flex><span>Commit URL:        https://github.com/kosli-dev/quickstart-docker-example/commit/9f14efa0c91807da9a8b1d1d6332c5b3aa24a310
</span></span><span style=display:flex><span>Build URL:         https://example.com
</span></span><span style=display:flex><span>Compliance state:  COMPLIANT
</span></span><span style=display:flex><span>History:
</span></span><span style=display:flex><span>    Artifact created                             Tue, 01 Nov 2022 15:46:59 CET
</span></span><span style=display:flex><span>    Deployment #1 to quickstart environment      Tue, 01 Nov 2022 15:48:47 CET
</span></span><span style=display:flex><span>    Started running in quickstart#1 environment  Tue, 01 Nov 2022 15:55:49 CET
</span></span></code></pre></div><p>Visit <a href=/getting_started/part_8_querying/>Part 8: Querying</a> section to learn more</p></div><div class="justify-between flex flex-wrap navigation-buttons"><div><div class=nav-title>Previous</div><div><a href=/integrations/slack/>« Slack integration</a></div></div><div><div class="nav-title text-right">Next</div><div><a href=/tutorials/following_a_git_commit_to_runtime_environments/>Following a git commit to runtime environments »</a></div></div></div></article><aside class=book-toc><div class=book-toc-content><h4 class=toc-title>On this page:</h4><nav id=TableOfContents><ul><li><a href=#get-familiar-with-kosli>Get familiar with Kosli</a><ul><li><a href=#step-1-prerequisites-and-kosli-account>Step 1: Prerequisites and Kosli account</a></li><li><a href=#step-2-install-the-kosli-cli>Step 2: Install the Kosli CLI</a></li><li><a href=#step-3-configure-your-working-environment>Step 3: Configure your working environment</a></li><li><a href=#step-4-create-a-kosli-pipeline>Step 4: Create a Kosli pipeline</a></li><li><a href=#step-5-create-a-kosli-environment>Step 5: Create a Kosli environment</a></li><li><a href=#step-6-report-artifacts-to-kosli>Step 6: Report artifacts to Kosli</a></li><li><a href=#step-7-report-expected-deployment-of-the-artifact>Step 7: Report expected deployment of the artifact</a></li><li><a href=#step-8-report-what-is-running-in-your-environment>Step 8: Report what is running in your environment</a></li><li><a href=#searching-kosli>Searching Kosli</a></li></ul></li></ul></nav></div></aside></div><footer class=book-footer><hr><div class=footer-grid><div><h3 class=h5-style>Get started for FREE!<br>Sign up GitHub.<br>Easy!</h3><a class="btn btn-main" href=https://app.kosli.com target=_blank>Sign up</a></div><div><h3 class=h5-style>Share your feedback on the docs so we can make them easier for you to use</h3><a href=https://www.kosli.com/community/ target=_blank class="btn btn-secondary">Join the Slack Community</a></div><div><h3 class=h5-style>Stuck with something?</h3><p>We have an open Slack channel where you can get in touch with the Kosli team and other users.</p><p><a href=https://www.kosli.com/community/ target=_blank>Ask the Kosli Slack community</a></p><p><a href=mailto:info@kosli.com>Email support</a></p></div></div><hr><div class="secondary-footer flex align-center flex-wrap" style=gap:40px><div><img src=/images/kosli-logo.svg alt="Kosli Logo"></div><div>© 2022 Kosli Inc.</div><div><a href=https://www.kosli.com target=_blank>kosli.com</a></div><div><a href=https://www.kosli.com/privacy-policy/ target=_blank>Privacy</a></div><div><a href=https://www.kosli.com/contact/ target=_blank>Contact Kosli</a></div><div><a href=https://www.kosli.com/pricing/ target=_blank>Pricing</a></div><div><a href=https://www.kosli.com/blog/ target=_blank>Blog</a></div><div><a href=https://www.kosli.com/about/ target=_blank>About</a></div></div><script>(function(){document.querySelectorAll("div.command").forEach(e=>{let t=document.createElement("div"),n=document.createTextNode("copied!");t.appendChild(n),e.appendChild(t),t.classList.add("copiedText"),e.addEventListener("click",function(){if(navigator.clipboard){let n=e.querySelector("code");navigator.clipboard.writeText(n.textContent),t.classList.add("visible"),setTimeout(()=>{t.classList.remove("visible")},1500)}})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div></main><div class=top-header><div class="container flex"><div class=docs-logo><a href=/><img src=/kosli-docs-logo-white.svg alt="Kosli docs logo"></a></div><div class=separator></div></div></div></body></html>