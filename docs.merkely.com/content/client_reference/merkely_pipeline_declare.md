---
title: "merkely pipeline declare"
---

## merkely pipeline declare

Declare or update a Merkely pipeline

### Synopsis


Declare or update a Merkely pipeline by providing a JSON pipefile or by providing pipeline parameters in flags. 
The pipefile contains the pipeline metadata and compliance policy.


```
merkely pipeline declare [flags]
```

### Examples

```

* create/update a Merkely pipeline without a pipefile:
merkely pipeline declare --pipeline myPipe --description desc \
   --visibility private --template artifact,evidence-type1,evidence-type2 \
   --owner owner-name --api-token topSecret

* create/update a Merkely pipeline with a pipefile (this is a legacy way which will be removed in the future):
merkely pipeline declare --owner owner-name --api-token topSecret --pipefile /path/to/pipefile.json

* The pipefile format is:
{
    "name": "myPipe",
    "description": "pipeline short description",
    "visibility": "public or private",
    "template": [
        "artifact",
        "evidence-type1",
        "evidence-type2"
    ]
}

```

### Options

```
      --description string   [optional] The Merkely pipeline description.
  -h, --help                 help for declare
      --pipefile string      [deprecated] The path to the JSON pipefile.
      --pipeline string      The name of the pipeline to be created or updated.
  -t, --template strings     The comma-separated list of required compliance controls names. (default [artifact])
      --visibility string    The visibility of the Merkely pipeline. Options are [public, private]. (default "private")
```

### Options inherited from parent commands

```
  -a, --api-token string      The merkely API token.
  -c, --config-file string    [optional] The merkely config file path. (default "merkely")
  -D, --dry-run               Whether to send the request to the endpoint or just log it in stdout.
  -H, --host string           The merkely endpoint. (default "https://app.merkely.com")
  -r, --max-api-retries int   How many times should API calls be retried when the API host is not reachable. (default 3)
  -o, --owner string          The merkely user or organization.
  -v, --verbose               Print verbose logs to stdout.
```

### SEE ALSO

* [merkely pipeline](/client_reference/merkely_pipeline/)	 - All Merkely pipelines operations.

###### Auto generated by spf13/cobra on 29-Dec-2021
