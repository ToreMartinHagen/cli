"use strict";(function(){const s="/en.search-data.min.b9ebfa173da29526fcf00e306153818f6587a0eeea903f2578bbfce76376b27d.json",o=Object.assign({cache:!0},{doc:{id:"id",field:["title","content"],store:["title","href","section"]}}),e=document.querySelector("#book-search-input"),t=document.querySelector("#book-search-results");if(!e)return;e.addEventListener("focus",r),e.addEventListener("focusout",l),e.addEventListener("keyup",n),document.addEventListener("keypress",i);function i(t){if(e===document.activeElement)return;const n=String.fromCharCode(t.charCode);if(!a(n))return;e.focus(),t.preventDefault()}function a(t){const n=e.getAttribute("data-hotkeys")||"";return n.indexOf(t)>=0}function r(){e.required=!0,fetch(s).then(e=>e.json()).then(e=>{window.bookSearchIndex=FlexSearch.create("balance",o),window.bookSearchIndex.add(e)}).then(()=>e.required=!1).then(n)}function n(){for(;t.firstChild;)t.removeChild(t.firstChild);if(!e.value)return;const n=window.bookSearchIndex.search(e.value,10);n&&(t.style.display="block"),n.length===0&&(t.style.display="none"),n.forEach(function(e){const n=c("<li><a href></a><small></small></li>"),s=n.querySelector("a"),o=n.querySelector("small");s.href=e.href,s.textContent=e.title,o.textContent=e.section,t.appendChild(n)})}function c(e){const t=document.createElement("div");return t.innerHTML=e,t.firstChild}function l(){document.getElementById("book-search-results").style.display="none"}})()