---
title: "Merkely Report Env"
---

## merkely report env

report images data from specific namespace or entire cluster to Merkely.

### Synopsis


Report actual deployments in an environment back to Merkely.
This allows Merkely to determine Runtime compliance status of the environment.

This command lists the artifacts deployed in the k8s environment and their digests,
before reporting them to Merkely. 


```
merkely report env [-n namespace | -x namespace]... [-k /path/to/kube/config] env-name [flags]
```

### Examples

```

* report what's running in an entire cluster using kubeconfig at $HOME/.kube/config:
merkely report env prod --api-token 1234 --owner exampleOrg

* report what's running in an entire cluster using kubeconfig at $HOME/.kube/config 
(with global flags defined in environment or in  a config file):
merkely report env prod

* report what's running in an entire cluster excluding some namespaces using kubeconfig at $HOME/.kube/config:
merkely report env prod -x kube-system,utilities

* report what's running in a given namespace in the cluster using kubeconfig at $HOME/.kube/config:
merkely report env prod -n prod-namespace

* report what's running in a cluster using kubeconfig at a custom path:
merkely report env prod -k /path/to/kube/config

```

### Options

```
  -x, --exclude-namespace strings   the comma separated list of namespaces (or namespaces regex patterns) NOT to harvest artifacts info from. Can't be used together with --namespace.
  -h, --help                        help for env
  -k, --kubeconfig string           kubeconfig path for the target cluster
  -n, --namespace strings           the comma separated list of namespaces (or namespaces regex patterns) to harvest artifacts info from. Can't be used together with --exclude-namespace.
```

### Options inherited from parent commands

```
  -a, --api-token string      the merkely API token.
  -c, --config-file string    [optional] the merkely config file path. (default "merkely")
  -d, --dry-run               whether to send the request to the endpoint or just log it in stdout.
  -H, --host string           the merkely endpoint. (default "https://app.merkely.com")
  -r, --max-api-retries int   how many times should API calls be retried when the API host is not reachable. (default 3)
  -o, --owner string          the merkely organization.
```

### SEE ALSO

* [merkely report](merkely_report.md)	 - report compliance events to Merkely.

###### Auto generated by spf13/cobra on 11-May-2021
