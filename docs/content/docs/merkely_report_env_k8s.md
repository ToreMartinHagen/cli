---
title: "Merkely Report Env K8s"
---

## merkely report env k8s

Report images data from specific namespace(s) or entire cluster to Merkely.

### Synopsis


List the artifacts deployed in the k8s environment and their digests 
and report them to Merkely. 


```
merkely report env k8s [-n namespace | -x namespace]... [-k /path/to/kube/config] [-i infrastructure-identifier] env-name [flags]
```

### Examples

```

* report what's running in an entire cluster using kubeconfig at $HOME/.kube/config:
merkely report env k8s prod --api-token 1234 --owner exampleOrg --id prod-cluster

* report what's running in an entire cluster using kubeconfig at $HOME/.kube/config 
(with global flags defined in environment or in  a config file):
merkely report env k8s prod

* report what's running in an entire cluster excluding some namespaces using kubeconfig at $HOME/.kube/config:
merkely report env k8s prod -x kube-system,utilities

* report what's running in a given namespace in the cluster using kubeconfig at $HOME/.kube/config:
merkely report env k8s prod -n prod-namespace

* report what's running in a cluster using kubeconfig at a custom path:
merkely report env k8s prod -k /path/to/kube/config

```

### Options

```
  -x, --exclude-namespace strings   the comma separated list of namespaces regex patterns NOT to report artifacts info from. Can't be used together with --namespace.
  -h, --help                        help for k8s
  -i, --id string                   the unique identifier of the source infrastructure of the report (e.g. the K8S cluster/namespace name). If not set, it is defaulted to environment name.
  -k, --kubeconfig string           kubeconfig path for the target cluster
  -n, --namespace strings           the comma separated list of namespaces regex patterns to report artifacts info from. Can't be used together with --exclude-namespace.
```

### Options inherited from parent commands

```
  -a, --api-token string      the merkely API token.
  -c, --config-file string    [optional] the merkely config file path. (default "merkely")
  -D, --dry-run               whether to send the request to the endpoint or just log it in stdout.
  -H, --host string           the merkely endpoint. (default "https://app.merkely.com")
  -r, --max-api-retries int   how many times should API calls be retried when the API host is not reachable. (default 3)
  -o, --owner string          the merkely organization.
```

### SEE ALSO

* [merkely report env](merkely_report_env.md)	 - Report running artifacts in an environment to Merkely.

###### Auto generated by spf13/cobra on 4-Nov-2021
