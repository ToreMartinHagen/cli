<!doctype html><html lang=en dir=ltr>
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=description content="k8s-reporter #  A Helm chart for installing the Merkely K8S reporter as a cronjob. The chart allows you to create a Kubernetes cronjob and all its necessary RBAC to report running images to Merkely at a given cron schedule.
Prerequisites #   A Kubernetes cluster Helm v3.0+  Installing the chart #  Installing from source #  You can install the Merkely reporter Helm chart from source code:">
<meta name=theme-color content="#FFFFFF">
<meta name=color-scheme content="light dark"><meta property="og:title" content>
<meta property="og:description" content="k8s-reporter #  A Helm chart for installing the Merkely K8S reporter as a cronjob. The chart allows you to create a Kubernetes cronjob and all its necessary RBAC to report running images to Merkely at a given cron schedule.
Prerequisites #   A Kubernetes cluster Helm v3.0+  Installing the chart #  Installing from source #  You can install the Merkely reporter Helm chart from source code:">
<meta property="og:type" content="article">
<meta property="og:url" content="https://new-docs.merkely.com/docs/helm_chart/"><meta property="article:section" content="docs">
<title>Helm Chart | Merkely developer documentation</title>
<link rel=manifest href=/manifest.json>
<link rel=icon href=/favicon.png type=image/x-icon>
<link rel=stylesheet href=/book.min.e3fdad22373b5e7599774e62cd29aaefdb8210a268a2f3fded6afeb7e01ede58.css integrity="sha256-4/2tIjc7XnWZd05izSmq79uCEKJoovP97Wr+t+Ae3lg=" crossorigin=anonymous>
<script defer src=/flexsearch.min.js></script>
<script defer src=/en.search.min.7b892e00f7a5381ee01ce9e59ec3c850b54eba251f51664475a783caafa57113.js integrity="sha256-e4kuAPelOB7gHOnlnsPIULVOuiUfUWZEdaeDyq+lcRM=" crossorigin=anonymous></script>
</head>
<body dir=ltr>
<input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control>
<main class="container flex">
<aside class=book-menu>
<div class=book-menu-content>
<nav>
<h2 class=book-brand>
<a class="flex align-center" href=/><span>Merkely developer documentation</span>
</a>
</h2>
<div class=book-search>
<input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/>
<div class="book-search-spinner hidden"></div>
<ul id=book-search-results></ul>
</div>
<ul>
<li>
<a href=https://new-docs.merkely.com/docs/>Docs</a>
<ul>
<li>
<a href=https://new-docs.merkely.com/docs/helm_chart/ class=active>Helm Chart</a>
</li>
<li>
<a href=https://new-docs.merkely.com/docs/merkely/>merkely</a>
</li>
<li>
<a href=https://new-docs.merkely.com/docs/merkely_control/>merkely control</a>
</li>
<li>
<a href=https://new-docs.merkely.com/docs/merkely_control_deployment/>merkely control deployment</a>
</li>
<li>
<a href=https://new-docs.merkely.com/docs/merkely_create/>merkely create</a>
</li>
<li>
<a href=https://new-docs.merkely.com/docs/merkely_create_environment/>merkely create environment</a>
</li>
<li>
<a href=https://new-docs.merkely.com/docs/merkely_create_pipeline/>merkely create pipeline</a>
</li>
<li>
<a href=https://new-docs.merkely.com/docs/merkely_fingerprint/>merkely fingerprint</a>
</li>
<li>
<a href=https://new-docs.merkely.com/docs/merkely_report/>merkely report</a>
</li>
<li>
<a href=https://new-docs.merkely.com/docs/merkely_report_approval/>merkely report approval</a>
</li>
<li>
<a href=https://new-docs.merkely.com/docs/merkely_report_artifact/>merkely report artifact</a>
</li>
<li>
<a href=https://new-docs.merkely.com/docs/merkely_report_deployment/>merkely report deployment</a>
</li>
<li>
<a href=https://new-docs.merkely.com/docs/merkely_report_env/>merkely report env</a>
</li>
<li>
<a href=https://new-docs.merkely.com/docs/merkely_report_env_ecs/>merkely report env ecs</a>
</li>
<li>
<a href=https://new-docs.merkely.com/docs/merkely_report_env_k8s/>merkely report env k8s</a>
</li>
<li>
<a href=https://new-docs.merkely.com/docs/merkely_report_env_server/>merkely report env server</a>
</li>
<li>
<a href=https://new-docs.merkely.com/docs/merkely_report_evidence/>merkely report evidence</a>
</li>
<li>
<a href=https://new-docs.merkely.com/docs/merkely_report_request/>merkely report request</a>
</li>
<li>
<a href=https://new-docs.merkely.com/docs/merkely_report_test/>merkely report test</a>
</li>
<li>
<a href=https://new-docs.merkely.com/docs/merkely_version/>merkely version</a>
</li>
</ul>
</li>
</ul>
</nav>
<script>(function(){var a=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(b){localStorage.setItem("menu.scrollTop",a.scrollTop)}),a.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>
</div>
</aside>
<div class=book-page>
<header class=book-header>
<div class="flex align-center justify-between">
<label for=menu-control>
<img src=/svg/menu.svg class=book-icon alt=Menu>
</label>
<strong>Helm Chart</strong>
<label for=toc-control>
<img src=/svg/toc.svg class=book-icon alt="Table of Contents">
</label>
</div>
<aside class="hidden clearfix">
<nav id=TableOfContents>
<ul>
<li><a href=#prerequisites>Prerequisites</a></li>
<li><a href=#installing-the-chart>Installing the chart</a>
<ul>
<li><a href=#installing-from-source>Installing from source</a></li>
<li><a href=#installing-from-the-helm-repository>Installing from the Helm Repository</a></li>
</ul>
</li>
<li><a href=#upgrading-the-chart>Upgrading the chart</a>
<ul>
<li><a href=#upgrading-from-source>Upgrading from source</a></li>
<li><a href=#upgrading-from-the-helm-chart-repository>Upgrading from the Helm chart repository</a></li>
</ul>
</li>
<li><a href=#configurations>Configurations</a></li>
</ul>
</nav>
</aside>
</header>
<article class=markdown><h1 id=k8s-reporter>
k8s-reporter
<a class=anchor href=#k8s-reporter>#</a>
</h1>
<p><img src="https://img.shields.io/badge/Version-0.3.0-informational?style=flat-square" alt="Version: 0.3.0"></p>
<p>A Helm chart for installing the Merkely K8S reporter as a cronjob.
The chart allows you to create a Kubernetes cronjob and all its necessary RBAC to report running images to Merkely at a given cron schedule.</p>
<h2 id=prerequisites>
Prerequisites
<a class=anchor href=#prerequisites>#</a>
</h2>
<ul>
<li>A Kubernetes cluster</li>
<li>Helm v3.0+</li>
</ul>
<h2 id=installing-the-chart>
Installing the chart
<a class=anchor href=#installing-the-chart>#</a>
</h2>
<h3 id=installing-from-source>
Installing from source
<a class=anchor href=#installing-from-source>#</a>
</h3>
<p>You can install the Merkely reporter Helm chart from source code:</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>git clone https://github.com/merkely-development/reporter.git
cd reporter/charts/k8s-reporter
helm install <span style=color:#f92672>[</span>RELEASE-NAME<span style=color:#f92672>]</span> . -f <span style=color:#f92672>[</span>VALUES-FILE-PATH<span style=color:#f92672>]</span>
</code></pre></div><h3 id=installing-from-the-helm-repository>
Installing from the Helm Repository
<a class=anchor href=#installing-from-the-helm-repository>#</a>
</h3>
<p>To install this chart via the Helm chart repository:</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>helm repo add merkely https://charts.merkely.com/
helm repo update
helm install <span style=color:#f92672>[</span>RELEASE-NAME<span style=color:#f92672>]</span> merkely/k8s-reporter -f <span style=color:#f92672>[</span>VALUES-FILE-PATH<span style=color:#f92672>]</span>
</code></pre></div><h2 id=upgrading-the-chart>
Upgrading the chart
<a class=anchor href=#upgrading-the-chart>#</a>
</h2>
<h3 id=upgrading-from-source>
Upgrading from source
<a class=anchor href=#upgrading-from-source>#</a>
</h3>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>helm upgrade <span style=color:#f92672>[</span>RELEASE-NAME<span style=color:#f92672>]</span> .
</code></pre></div><h3 id=upgrading-from-the-helm-chart-repository>
Upgrading from the Helm chart repository
<a class=anchor href=#upgrading-from-the-helm-chart-repository>#</a>
</h3>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>helm upgrade <span style=color:#f92672>[</span>RELEASE-NAME<span style=color:#f92672>]</span> merkely/k8s-reporter
</code></pre></div><h2 id=configurations>
Configurations
<a class=anchor href=#configurations>#</a>
</h2>
<table>
<thead>
<tr>
<th>Key</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>cronSchedule</td>
<td>string</td>
<td><code>"*/5 * * * *"</code></td>
<td>the cron schedule at which the reporter is triggered to report to Merkely</td>
</tr>
<tr>
<td>fullnameOverride</td>
<td>string</td>
<td><code>""</code></td>
<td>overrides the fullname used for the created k8s resources. It has higher precedence than <code>nameOverride</code></td>
</tr>
<tr>
<td>image.pullPolicy</td>
<td>string</td>
<td><code>"IfNotPresent"</code></td>
<td>the merkely reporter image pull policy</td>
</tr>
<tr>
<td>image.repository</td>
<td>string</td>
<td><code>"ghcr.io/merkely-development/reporter"</code></td>
<td>the merkely reporter image repository</td>
</tr>
<tr>
<td>image.tag</td>
<td>string</td>
<td><code>"v0.5.0"</code></td>
<td>the merkely reporter image tag, overrides the image tag whose default is the chart appVersion.</td>
</tr>
<tr>
<td>merkelyApiToken.secretKey</td>
<td>string</td>
<td><code>""</code></td>
<td>the name of the key in the secret data which containts the Merkely API token</td>
</tr>
<tr>
<td>merkelyApiToken.secretName</td>
<td>string</td>
<td><code>""</code></td>
<td>the name of the secret containing the Merkely API token</td>
</tr>
<tr>
<td>nameOverride</td>
<td>string</td>
<td><code>""</code></td>
<td>overrides the name used for the created k8s resources. If <code>fullnameOverride</code> is provided, it has higher precedence than this one</td>
</tr>
<tr>
<td>podAnnotations</td>
<td>object</td>
<td><code>{}</code></td>
<td></td>
</tr>
<tr>
<td>reporterConfig.dryRun</td>
<td>bool</td>
<td><code>false</code></td>
<td>whether the dry run mode is enabled or not. In dry run mode, the reporter logs the reports to stdout and does not send them to Merkely.</td>
</tr>
<tr>
<td>reporterConfig.merkelyEnvironmentName</td>
<td>string</td>
<td><code>""</code></td>
<td>the name of Merkely environment that the k8s cluster/namespace correlates to</td>
</tr>
<tr>
<td>reporterConfig.merkelyOwner</td>
<td>string</td>
<td><code>""</code></td>
<td>the name of the Merkely owner (Org)</td>
</tr>
<tr>
<td>reporterConfig.namespaces</td>
<td>string</td>
<td><code>""</code></td>
<td>the namespaces which represent the environment. It is a comma separated list of namespace name regex patterns. e.g. <code>^prod$,^dev-*</code> reports for the <code>prod</code> namespace and any namespace that starts with <code>dev-</code> leave this unset if you want to report what is running in the entire cluster</td>
</tr>
<tr>
<td>resources.limits.cpu</td>
<td>string</td>
<td><code>"100m"</code></td>
<td>the cpu limit</td>
</tr>
<tr>
<td>resources.limits.memory</td>
<td>string</td>
<td><code>"256Mi"</code></td>
<td>the memory limit</td>
</tr>
<tr>
<td>resources.requests.memory</td>
<td>string</td>
<td><code>"64Mi"</code></td>
<td>the memory request</td>
</tr>
<tr>
<td>serviceAccount.annotations</td>
<td>object</td>
<td><code>{}</code></td>
<td>annotations to add to the service account</td>
</tr>
<tr>
<td>serviceAccount.create</td>
<td>bool</td>
<td><code>true</code></td>
<td>specifies whether a service account should be created</td>
</tr>
<tr>
<td>serviceAccount.name</td>
<td>string</td>
<td><code>""</code></td>
<td>the name of the service account to use. If not set and create is true, a name is generated using the fullname template</td>
</tr>
</tbody>
</table>
<hr>
<p>Autogenerated from chart metadata using <a href=https://github.com/norwoodj/helm-docs/releases/v1.5.0>helm-docs v1.5.0</a></p>
</article>
<footer class=book-footer>
<div class="flex flex-wrap justify-between">
</div>
<script>(function(){function a(c){const a=window.getSelection(),b=document.createRange();b.selectNodeContents(c),a.removeAllRanges(),a.addRange(b)}document.querySelectorAll("pre code").forEach(b=>{b.addEventListener("click",function(c){a(b.parentElement),navigator.clipboard&&navigator.clipboard.writeText(b.parentElement.textContent)})})})()</script>
</footer>
<div class=book-comments>
</div>
<label for=menu-control class="hidden book-menu-overlay"></label>
</div>
<aside class=book-toc>
<div class=book-toc-content>
<nav id=TableOfContents>
<ul>
<li><a href=#prerequisites>Prerequisites</a></li>
<li><a href=#installing-the-chart>Installing the chart</a>
<ul>
<li><a href=#installing-from-source>Installing from source</a></li>
<li><a href=#installing-from-the-helm-repository>Installing from the Helm Repository</a></li>
</ul>
</li>
<li><a href=#upgrading-the-chart>Upgrading the chart</a>
<ul>
<li><a href=#upgrading-from-source>Upgrading from source</a></li>
<li><a href=#upgrading-from-the-helm-chart-repository>Upgrading from the Helm chart repository</a></li>
</ul>
</li>
<li><a href=#configurations>Configurations</a></li>
</ul>
</nav>
</div>
</aside>
</main>
</body>
</html>