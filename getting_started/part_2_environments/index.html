<!doctype html><html lang=en dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Part 2: Environments # Recording the status of runtime environments is one of the fundamental features of Kosli. Kosli records the status of runtime environments by detecting artifacts running in any given environment and reporting the information.
If the list of running artifacts is different than what was reported previously a new snapshot is created. Snapshots are immutable and can't be tampered with.
There is range of kosli environment report [."><meta name=theme-color content="#FFFFFF"><meta name=color-scheme content="light dark"><meta property="og:image" content="https://docs.kosli.com/images/kosli.jpg"><meta name=twitter:image content="https://docs.kosli.com/images/kosli.jpg"><meta property="og:title" content><meta property="og:description" content><meta property="og:type" content="website"><meta property="og:url" content="https://docs.kosli.com/getting_started/part_2_environments/"><title>Part 2: Environments</title><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><link rel=stylesheet href=/book.min.d1e6b64483b6b040981c8f7c7276caba04c1fe2958013ef2f9bf3304b530f646.css integrity="sha256-0ea2RIO2sECYHI98cnbKugTB/ilYAT7y+b8zBLUw9kY=" crossorigin=anonymous><script defer src=/flexsearch.min.js></script>
<script defer src=/en.search.min.9802abef49fa9dce26fc0b21dbddb58c55ea13e3315f19d3627d284949590e7e.js integrity="sha256-mAKr70n6nc4m/Ash2921jFXqE+MxXxnTYn0oSUlZDn4=" crossorigin=anonymous></script>
<script src=https://cdn.usefathom.com/script.js data-site=AUFUAQWT data-excluded-domains=localhost defer></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/><span>Kosli developer documentation</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div></div><ul><li><input type=checkbox id=section-6725160d2344d44f6214ab4d7c34286a class=toggle>
<label for=section-6725160d2344d44f6214ab4d7c34286a class="flex justify-between"><a role=button>Kosli Overview</a></label><ul><li><a href=https://docs.kosli.com/kosli_overview/what_is_kosli/>What is Kosli?</a></li><li><a href=https://docs.kosli.com/kosli_overview/kosli_tools/>How to use Kosli?</a></li><li><a href=https://docs.kosli.com/kosli_overview/kosli_integrations/>Kosli integrations</a></li></ul></li><li><input type=checkbox id=section-acdc30ff5cf57e4ff3a5b04fe43650db class=toggle checked>
<label for=section-acdc30ff5cf57e4ff3a5b04fe43650db class="flex justify-between"><a role=button>Getting started</a></label><ul><li><a href=https://docs.kosli.com/getting_started/part_1_overview/>Part 1: Overview</a></li><li><a href=https://docs.kosli.com/getting_started/part_2_environments/ class=active>Part 2: Environments</a></li><li><a href=https://docs.kosli.com/getting_started/part_3_pipelines/>Part 3: Pipelines</a></li><li><a href=https://docs.kosli.com/getting_started/part_4_artifacts/>Part 4: Artifacts</a></li><li><a href=https://docs.kosli.com/getting_started/part_5_evidence/>Part 5: Evidence</a></li><li><a href=https://docs.kosli.com/getting_started/part_6_approvals/>Part 6: Approvals</a></li><li><a href=https://docs.kosli.com/getting_started/part_7_deployments/>Part 7: Deployments</a></li><li><a href=https://docs.kosli.com/getting_started/part_8_querying/>Part 8: Querying</a></li></ul></li><li><input type=checkbox id=section-07a282edef5130f1b67f1822bafb90e0 class=toggle>
<label for=section-07a282edef5130f1b67f1822bafb90e0 class="flex justify-between"><a role=button>Kosli integrations</a></label><ul><li><a href=https://docs.kosli.com/integrations/ci_cd/>CI/CD</a></li><li><a href=https://docs.kosli.com/integrations/slack/>Slack integration</a></li></ul></li><li><input type=checkbox id=section-90d1aeee0e96e115d1edea3b994d19fb class=toggle>
<label for=section-90d1aeee0e96e115d1edea3b994d19fb class="flex justify-between"><a role=button>Tutorials</a></label><ul><li><a href=https://docs.kosli.com/tutorials/get_familiar_with_kosli/>Get familiar with Kosli</a></li><li><a href=https://docs.kosli.com/tutorials/following_a_git_commit_to_runtime_environments/>Following a git commit to runtime environments</a></li><li><a href=https://docs.kosli.com/tutorials/tracing_a_production_incident_back_to_git_commits/>Tracing a production incident back to git commits</a></li><li><a href=https://docs.kosli.com/tutorials/simulating_a_devops_system/>Simulating a DevOps system</a></li></ul></li><li><input type=checkbox id=section-3993beb65ef7e76a7dbe6e66c07255ac class=toggle>
<label for=section-3993beb65ef7e76a7dbe6e66c07255ac class="flex justify-between"><a href=https://docs.kosli.com/client_reference/>Reference</a></label><ul><li><a href=https://docs.kosli.com/client_reference/kosli/>kosli</a></li><li><a href=https://docs.kosli.com/client_reference/kosli_approval_get/>kosli approval get</a></li><li><a href=https://docs.kosli.com/client_reference/kosli_approval_ls/>kosli approval ls</a></li><li><a href=https://docs.kosli.com/client_reference/kosli_artifact_get/>kosli artifact get</a></li><li><a href=https://docs.kosli.com/client_reference/kosli_artifact_ls/>kosli artifact ls</a></li><li><a href=https://docs.kosli.com/client_reference/kosli_assert_artifact/>kosli assert artifact</a></li><li><a href=https://docs.kosli.com/client_reference/kosli_assert_bitbucket-pullrequest/>kosli assert bitbucket-pullrequest</a></li><li><a href=https://docs.kosli.com/client_reference/kosli_assert_environment/>kosli assert environment</a></li><li><a href=https://docs.kosli.com/client_reference/kosli_assert_github-pullrequest/>kosli assert github-pullrequest</a></li><li><a href=https://docs.kosli.com/client_reference/kosli_assert_status/>kosli assert status</a></li><li><a href=https://docs.kosli.com/client_reference/kosli_completion/>kosli completion</a></li><li><a href=https://docs.kosli.com/client_reference/kosli_deployment_get/>kosli deployment get</a></li><li><a href=https://docs.kosli.com/client_reference/kosli_deployment_ls/>kosli deployment ls</a></li><li><a href=https://docs.kosli.com/client_reference/kosli_environment_allowedartifacts_add/>kosli environment allowedartifacts add</a></li><li><a href=https://docs.kosli.com/client_reference/kosli_environment_declare/>kosli environment declare</a></li><li><a href=https://docs.kosli.com/client_reference/kosli_environment_diff/>kosli environment diff</a></li><li><a href=https://docs.kosli.com/client_reference/kosli_environment_get/>kosli environment get</a></li><li><a href=https://docs.kosli.com/client_reference/kosli_environment_inspect/>kosli environment inspect</a></li><li><a href=https://docs.kosli.com/client_reference/kosli_environment_log/>kosli environment log</a></li><li><a href=https://docs.kosli.com/client_reference/kosli_environment_ls/>kosli environment ls</a></li><li><a href=https://docs.kosli.com/client_reference/kosli_environment_rename/>kosli environment rename</a></li><li><a href=https://docs.kosli.com/client_reference/kosli_environment_report_docker/>kosli environment report docker</a></li><li><a href=https://docs.kosli.com/client_reference/kosli_environment_report_ecs/>kosli environment report ecs</a></li><li><a href=https://docs.kosli.com/client_reference/kosli_environment_report_k8s/>kosli environment report k8s</a></li><li><a href=https://docs.kosli.com/client_reference/kosli_environment_report_lambda/>kosli environment report lambda</a></li><li><a href=https://docs.kosli.com/client_reference/kosli_environment_report_s3/>kosli environment report s3</a></li><li><a href=https://docs.kosli.com/client_reference/kosli_environment_report_server/>kosli environment report server</a></li><li><a href=https://docs.kosli.com/client_reference/kosli_expect_deployment/>kosli expect deployment</a></li><li><a href=https://docs.kosli.com/client_reference/kosli_fingerprint/>kosli fingerprint</a></li><li><a href=https://docs.kosli.com/client_reference/kosli_pipeline_approval_assert/>kosli pipeline approval assert</a></li><li><a href=https://docs.kosli.com/client_reference/kosli_pipeline_approval_report/>kosli pipeline approval report</a></li><li><a href=https://docs.kosli.com/client_reference/kosli_pipeline_approval_request/>kosli pipeline approval request</a></li><li><a href=https://docs.kosli.com/client_reference/kosli_pipeline_artifact_report_creation/>kosli pipeline artifact report creation</a></li><li><a href=https://docs.kosli.com/client_reference/kosli_pipeline_artifact_report_evidence_bitbucket-pullrequest/>kosli pipeline artifact report evidence bitbucket-pullrequest</a></li><li><a href=https://docs.kosli.com/client_reference/kosli_pipeline_artifact_report_evidence_generic/>kosli pipeline artifact report evidence generic</a></li><li><a href=https://docs.kosli.com/client_reference/kosli_pipeline_artifact_report_evidence_github-pullrequest/>kosli pipeline artifact report evidence github-pullrequest</a></li><li><a href=https://docs.kosli.com/client_reference/kosli_pipeline_artifact_report_evidence_junit/>kosli pipeline artifact report evidence junit</a></li><li><a href=https://docs.kosli.com/client_reference/kosli_pipeline_artifact_report_evidence_snyk/>kosli pipeline artifact report evidence snyk</a></li><li><a href=https://docs.kosli.com/client_reference/kosli_pipeline_artifact_report_evidence_test/>kosli pipeline artifact report evidence test</a></li><li><a href=https://docs.kosli.com/client_reference/kosli_pipeline_declare/>kosli pipeline declare</a></li><li><a href=https://docs.kosli.com/client_reference/kosli_pipeline_inspect/>kosli pipeline inspect</a></li><li><a href=https://docs.kosli.com/client_reference/kosli_pipeline_ls/>kosli pipeline ls</a></li><li><a href=https://docs.kosli.com/client_reference/kosli_search/>kosli search</a></li><li><a href=https://docs.kosli.com/client_reference/kosli_status/>kosli status</a></li><li><a href=https://docs.kosli.com/client_reference/kosli_version/>kosli version</a></li></ul></li><li><a href=https://docs.kosli.com/faq/>FAQ</a><ul></ul></li><li><a href=https://docs.kosli.com/helm/>Kubernetes Reporter Helm Chart</a><ul></ul></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><ul id=book-search-results class=search-results></ul><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Part 2: Environments</strong>
<label for=toc-control><img src=/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><h4 class=toc-title>On this page:</h4><nav id=TableOfContents><ul><li><a href=#part-2-environments>Part 2: Environments</a><ul><li><a href=#create-an-environment>Create an environment</a></li><li><a href=#report-an-environment>Report an environment</a></li></ul></li></ul></nav></aside></header><div class=content-container><article class=markdown><div><ul class=breadcrumbs><li><a href=https://docs.kosli.com/>Home</a></li><li><a href=https://docs.kosli.com/getting_started/>Getting started</a></li><li class=active aria-current=page>Part 2: Environments</li></ul><h1 id=part-2-environments>Part 2: Environments
<a class=anchor href=#part-2-environments>#</a></h1><p>Recording the status of runtime environments is one of the fundamental features of Kosli. Kosli records the status of runtime environments by detecting artifacts running in any given environment and reporting the information.</p><p>If the list of running artifacts is different than what was reported previously a new snapshot is created. Snapshots are immutable and can't be tampered with.</p><p>There is range of <code>kosli environment report [...]</code> commands, allowing you to report a variety of environments. To record the current status of your environment you simply run one of them. You can do it manually but typically recording commands would run automatically, e.g. via a cron job or scheduled CI job.</p><blockquote class="book-hint warning">In all the commands below we skip required <code>--api-token</code> and <code>--owner</code> flags - these can be easily configured via <a href=/kosli_overview/kosli_tools/#config-file>config file</a> or <a href=/kosli_overview/kosli_tools/#environment-variables>environment variables</a> so you don't have type them over and over again.</blockquote><p>After you started reporting, you can - at any point - check exactly what is running in your environment using the CLI command:</p><div class="highlight command"><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ kosli environment get quickstart
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>COMMIT  ARTIFACT                                                           PIPELINE  RUNNING_SINCE  REPLICAS
</span></span><span style=display:flex><span>N/A     Name: nginx@sha256:0047b7<span style=color:#f92672>(</span>...<span style=color:#f92672>))</span>59cce6d40291ccfb4e039f5dc7efd33286  N/A       <span style=color:#ae81ff>7</span> days ago     <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>        Fingerprint: 0047b729188<span style=color:#f92672>(</span>...<span style=color:#f92672>)</span>959cce6d40291ccfb4e039f5dc7efd33286   
</span></span></code></pre></div><p>Or in the UI, by clicking at the name of the environment (after selecting "Environments" in the left hand side menu):</p><figure><img src=/images/env-snap-1.png alt="Environment, Snapshot #1" width=900></figure><h2 id=create-an-environment>Create an environment
<a class=anchor href=#create-an-environment>#</a></h2><p>A Kosli <em>environment</em> stores snapshots containing information about the software artifacts that are running in your runtime environments.</p><p>Before you start reporting what's running in your environments you need to create an environment in Kosli and make sure it matches the type of the environment you'll be reporting, e.g. <code>docker</code> or <code>k8s</code>. You can see all the available environment types in the help text for the <code>--environment-type</code> flag in the <a href=/client_reference/kosli_environment_declare/><code>kosli environment declare</code></a> command.</p><h3 id=example>Example
<a class=anchor href=#example>#</a></h3><h4 id=cli>CLI
<a class=anchor href=#cli>#</a></h4><div class="highlight command"><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ kosli environment declare <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --name quickstart <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --environment-type docker <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --description <span style=color:#e6db74>&#34;quickstart environment for tutorial&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>environment quickstart was created
</span></span></code></pre></div><p>You can verify that the Kosli environment called <em>quickstart</em> was created:</p><div class="highlight command"><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ kosli environment ls
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>NAME        TYPE    LAST REPORT  LAST MODIFIED
</span></span><span style=display:flex><span>quickstart  docker               2022-11-01T15:30:56+01:00
</span></span></code></pre></div><h4 id=ui>UI
<a class=anchor href=#ui>#</a></h4><p>You can also create an environment directly from <a href=https://app.kosli.com target=_blank>app.kosli.com</a>.</p><p>Make sure you've selected the organization you want to use (<code>docs-demo</code> here) and click on "Environments". You'll find an "Add new environment" button there</p><figure><img src=/images/add-new-env.png alt="Add new Environment" width=600></figure><p>Fill in the form - type, name and a description - and click "Save Environment" button</p><figure><img src=/images/save-env.png alt="Save Environment" width=650></figure><p>After the new environment is created you'll be redirected to its page - with "No events have been found for [...]" message. Once you start reporting your actual runtime environment to Kosli you'll see all the events (such as which artifacts started or stopped running) listed on that page.</p><p>To see the list of all your environments, just click on the "Environments" again</p><figure><img src=/images/env-list.png alt=Environments width=900></figure><h2 id=report-an-environment>Report an environment
<a class=anchor href=#report-an-environment>#</a></h2><div class="book-tabs col-no-wrap"><input type=radio class=toggle name=tabs-env-reports id=tabs-env-reports-0 checked>
<label for=tabs-env-reports-0>docker</label><div class="book-tabs-content markdown-inner"><h2 id=record-docker-environment>Record docker environment
<a class=anchor href=#record-docker-environment>#</a></h2><p>Run <code>kosli environment report docker</code> to report running containers data from docker host to Kosli.</p><p><strong>Where to run:</strong> The command has to be run on the actual docker host, to be able to detect running containers.</p><h3 id=example>Example
<a class=anchor href=#example>#</a></h3><div class="highlight command"><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ kosli environment report docker docs-demo-docker
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>1<span style=color:#f92672>]</span> containers were reported to environment quickstart
</span></span></code></pre></div><p>More details in <a href=/client_reference/kosli_environment_report_docker/><code>kosli environment report docker</code> reference</a></p></div><input type=radio class=toggle name=tabs-env-reports id=tabs-env-reports-1>
<label for=tabs-env-reports-1>ecs</label><div class="book-tabs-content markdown-inner"><h2 id=record-ecs-environment>Record ecs environment
<a class=anchor href=#record-ecs-environment>#</a></h2><p>Run <code>kosli environment report ecs</code> to report images data from AWS ECS cluster to Kosli.</p><p><strong>Were to run:</strong> The command can be run anywhere.<br>To authenticate to AWS, you can either:</p><ol><li>provide the AWS static credentials via flags or by exporting the equivalent KOSLI env vars (e.g. KOSLI_AWS_KEY_ID)</li><li>export the AWS env vars (e.g. AWS_ACCESS_KEY_ID).</li><li>Use a shared config/credentials file under the $HOME/.aws</li></ol><p>Option 1 takes highest precedence, while option 3 is the lowest.</p><h3 id=example>Example
<a class=anchor href=#example>#</a></h3><div class="highlight command"><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ kosli environment report ecs ecs-prod <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>	--cluster prod-cluster
</span></span><span style=display:flex><span>	--aws-key-id *** <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>	--aws-secret-key *** <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>	--aws-region eu-central-1 
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>2<span style=color:#f92672>]</span> containers were reported to environment ecs-prod
</span></span></code></pre></div><p>More details in <a href=/client_reference/kosli_environment_report_ecs/><code>kosli environment report ecs</code> reference</a></p></div><input type=radio class=toggle name=tabs-env-reports id=tabs-env-reports-2>
<label for=tabs-env-reports-2>k8s</label><div class="book-tabs-content markdown-inner"><h2 id=record-k8s-environment>Record k8s environment
<a class=anchor href=#record-k8s-environment>#</a></h2><p>Run <code>kosli environment report k8s</code> to report images data from specific namespace(s) or entire cluster to Kosli. You can also select multiple namespaces to report from (using <code>--namespace</code> and comma separated list when running a command) or use <code>--exclude-namespace</code> to report from a whole cluster except the namespaces from the comma spearated list given to the flag</p><p><strong>Were to run:</strong> The command can be run anywhere and requires <code>kubeconfig</code> file to be able to connect to the cluster (you can skip providing the location of <code>kubeconfig</code> if it resides in default <code>$HOME/.kube/config</code> folder).</p><p>You can also choose to run it from within the cluster - use our <a href=/helm/>helm chart</a> to install the reporter as a cron job. <code>kubeconfig</code> won't be need in that case.</p><h3 id=example>Example
<a class=anchor href=#example>#</a></h3><pre tabindex=0><code># report what is running in an entire cluster using kubeconfig at $HOME/.kube/config:
kosli environment report k8s yourEnvironmentName \
	--api-token yourAPIToken \
	--owner yourOrgName

# report what is running in a given namespace using kubeconfig at a custom path:
kosli environment report k8s yourEnvironmentName \
	--kubeconfig /path/to/kubeconfig \
	--namespace your-namespace \
	--api-token yourAPIToken \
	--owner yourOrgName
</code></pre><p>More details in <a href=/client_reference/kosli_environment_report_k8s/><code>kosli environment report k8s</code> reference</a></p></div><input type=radio class=toggle name=tabs-env-reports id=tabs-env-reports-3>
<label for=tabs-env-reports-3>lambda</label><div class="book-tabs-content markdown-inner"><h2 id=record-lambda-environment>Record lambda environment
<a class=anchor href=#record-lambda-environment>#</a></h2><p>Run <code>kosli environment report lambda</code> to report artifact from AWS Lambda to Kosli.</p><p><strong>Were to run:</strong> The command can be run anywhere.<br>To authenticate to AWS, you can either:</p><ol><li>provide the AWS static credentials via flags or by exporting the equivalent KOSLI env vars (e.g. KOSLI_AWS_KEY_ID)</li><li>export the AWS env vars (e.g. AWS_ACCESS_KEY_ID).</li><li>Use a shared config/credentials file under the $HOME/.aws</li></ol><p>Option 1 takes highest precedence, while option 3 is the lowest.</p><h3 id=example>Example
<a class=anchor href=#example>#</a></h3><div class="highlight command"><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ kosli environment report lambda lambda-prod <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>	--function-name reporter-kosli-prod <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>	--aws-key-id *** <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>	--aws-secret-key *** <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>	--aws-region eu-central-1 
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>reporter-app-prod lambda <span style=color:#66d9ef>function</span> was reported to environment lambda-prod
</span></span></code></pre></div><p>More details in <a href=/client_reference/kosli_environment_report_lambda/><code>kosli environment report lambda</code> reference</a></p></div><input type=radio class=toggle name=tabs-env-reports id=tabs-env-reports-4>
<label for=tabs-env-reports-4>s3</label><div class="book-tabs-content markdown-inner"><h2 id=record-s3-environment>Record s3 environment
<a class=anchor href=#record-s3-environment>#</a></h2><p>Run <code>kosli environment report s3</code> to report artifact from AWS S3 bucket to Kosli.</p><p><strong>Were to run:</strong> The command can be run anywhere.<br>To authenticate to AWS, you can either:</p><ol><li>provide the AWS static credentials via flags or by exporting the equivalent KOSLI env vars (e.g. KOSLI_AWS_KEY_ID)</li><li>export the AWS env vars (e.g. AWS_ACCESS_KEY_ID).</li><li>Use a shared config/credentials file under the $HOME/.aws</li></ol><p>Option 1 takes highest precedence, while option 3 is the lowest.</p><h3 id=example>Example
<a class=anchor href=#example>#</a></h3><div class="highlight command"><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ kosli environment report s3 s3-prod <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span> 	--bucket app-public <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>	--aws-key-id *** <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>	--aws-secret-key *** <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>	--aws-region eu-central-1 
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>bucket app-public was reported to environment s3-prod
</span></span></code></pre></div><p>More details in <a href=/client_reference/kosli_environment_report_s3/><code>kosli environment report s3</code> reference</a></p></div><input type=radio class=toggle name=tabs-env-reports id=tabs-env-reports-5>
<label for=tabs-env-reports-5>server</label><div class="book-tabs-content markdown-inner"><h2 id=record-server-environment>Record server environment
<a class=anchor href=#record-server-environment>#</a></h2><p>Run <code>kosli environment report server</code> to report directory or file artifacts from the given list of paths to Kosli.</p><p><strong>Were to run:</strong> The command has to be run on the actual server (physical or vm), to be able to detect artifacts.</p><p>Use <code>--paths</code> flag to provide a comma separated list of directories and files you want to be reported. Keep in mind that each directory will be treated as a single artifact and in order to make sure they are correctly identified in Kosli they should also be reported to Kosli pipeline as a single artifact.</p><p>For example, if you provide a following list: <code>--paths /home/server/web, /home/monitor.exe, /home/server/calculator</code> kosli will calculate fingerprints and report as running 3 artifacts to Kosli:</p><ul><li>directory <code>web</code></li><li>directory <code>calculator</code></li><li>file <code>monitor.exe</code></li></ul><p>And it will try to find matching artifacts reported to any pipeline belonging to the same organization as the environment.</p><h3 id=example>Example
<a class=anchor href=#example>#</a></h3><div class="highlight command"><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ kosli environment report server docs-demo-server --paths build/index.html 
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>1<span style=color:#f92672>]</span> artifacts were reported to environment docs-demo-server       
</span></span></code></pre></div><p>More details in <a href=/client_reference/kosli_environment_report_server/><code>kosli environment report server</code> reference</a></p></div></div></div><div class="justify-between flex flex-wrap navigation-buttons"><div><div class=nav-title>Previous</div><div><a href=/getting_started/part_1_overview/>« Part 1: Overview</a></div></div><div><div class="nav-title text-right">Next</div><div><a href=/getting_started/part_3_pipelines/>Part 3: Pipelines »</a></div></div></div></article><aside class=book-toc><div class=book-toc-content><h4 class=toc-title>On this page:</h4><nav id=TableOfContents><ul><li><a href=#part-2-environments>Part 2: Environments</a><ul><li><a href=#create-an-environment>Create an environment</a></li><li><a href=#report-an-environment>Report an environment</a></li></ul></li></ul></nav></div></aside></div><footer class=book-footer><hr><div class=footer-grid><div><h3 class=h5-style>Get started for FREE!<br>Sign up GitHub.<br>Easy!</h3><a class="btn btn-main" href=https://app.kosli.com target=_blank>Sign up</a></div><div><h3 class=h5-style>Share your feedback on the docs so we can make them easier for you to use</h3><a href=https://www.kosli.com/community/ target=_blank class="btn btn-secondary">Join the Slack Community</a></div><div><h3 class=h5-style>Stuck with something?</h3><p>We have an open Slack channel where you can get in touch with the Kosli team and other users.</p><p><a href=https://www.kosli.com/community/ target=_blank>Ask the Kosli Slack community</a></p><p><a href=mailto:info@kosli.com>Email support</a></p></div></div><hr><div class="secondary-footer flex align-center flex-wrap" style=gap:40px><div><img src=/images/kosli-logo.svg alt="Kosli Logo"></div><div>© 2022 Kosli Inc.</div><div><a href=https://www.kosli.com target=_blank>kosli.com</a></div><div><a href=https://www.kosli.com/privacy-policy/ target=_blank>Privacy</a></div><div><a href=https://www.kosli.com/contact/ target=_blank>Contact Kosli</a></div><div><a href=https://www.kosli.com/pricing/ target=_blank>Pricing</a></div><div><a href=https://www.kosli.com/blog/ target=_blank>Blog</a></div><div><a href=https://www.kosli.com/about/ target=_blank>About</a></div></div><script>(function(){document.querySelectorAll("div.command").forEach(e=>{let t=document.createElement("div"),n=document.createTextNode("copied!");t.appendChild(n),e.appendChild(t),t.classList.add("copiedText"),e.addEventListener("click",function(){if(navigator.clipboard){let n=e.querySelector("code");navigator.clipboard.writeText(n.textContent),t.classList.add("visible"),setTimeout(()=>{t.classList.remove("visible")},1500)}})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div></main><div class=top-header><div class="container flex"><div class=docs-logo><a href=/><img src=/kosli-docs-logo-white.svg alt="Kosli docs logo"></a></div><div class=separator></div></div></div></body></html>